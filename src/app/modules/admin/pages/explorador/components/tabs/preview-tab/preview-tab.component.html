<div class="h-full overflow-y-auto bg-white">
	<!-- Sin selección -->
	<ng-container *ngIf="!selectedNode; else withSelection">
		<div class="flex flex-col items-center justify-center h-full text-gray-400">
			<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
			</svg>
			<p class="text-lg">Selecciona un elemento para ver detalles</p>
		</div>
	</ng-container>
	<ng-template #withSelection>
		<!-- Autorización -->
		<ng-container *ngIf="isAutorizacion; else otherNode">
			<!-- PDF con vista previa -->
			<ng-container *ngIf="hasPreview; else noPreview">
				<div class="relative w-full" style="height: calc(100vh - 220px);">
					<div *ngIf="isLoading()" class="absolute top-0 left-0 z-20 w-full">
						<div class="h-1 w-full bg-gray-200 overflow-hidden">
							<div class="h-full w-1/3 bg-blue-500 animate-[loading_1.2s_ease-in-out_infinite]">
							</div>
						</div>
					</div>
					<object *ngIf="!hasError()" [data]="pdfUrl" type="application/pdf" class="w-full h-full" (load)="onPdfLoaded()" (error)="onPdfError()">
					</object>
				</div>
			</ng-container>
			<!-- Sin archivo -->
			<ng-template #noPreview>
				<div class="flex flex-col items-center justify-center h-full text-gray-400">
					<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
					</svg>
					<p class="text-lg">Sin vista previa disponible</p>
					<p class="text-sm mt-2">Sube un archivo para visualizarlo</p>
				</div>
			</ng-template>
		</ng-container>
		<!-- Otros nodos -->
		<ng-template #otherNode>
			<div class="flex flex-col items-center justify-center h-full text-gray-400">
				<div [innerHTML]="getNodeIcon(selectedNode)" class="w-16 h-16 mb-4"></div>
				<p class="text-lg">{{ selectedNode?.nombre }}</p>
				<!-- <p class="text-sm mt-2">{{ getNodeDescription(selectedNode) }}</p> -->
			</div>
		</ng-template>
	</ng-template>
</div>