<div class="flex min-h-screen bg-gray-50">
  <!-- SIDEBAR -->
  <app-sidebar #sidebar [territoriesCount]="territoriesCount"
              (sidebarToggled)="onSidebarToggled($event)"></app-sidebar>

  <!-- HEADER COMPONENTE -->
  <app-header
    [sidebarOpen]="sidebarOpen"
    [isMobileView]="isMobileView"
    (mobileMenuToggled)="onMobileMenuToggled()">
  </app-header>

  <!-- CONTENIDO PRINCIPAL -->
  <div class="flex-1 flex flex-col min-h-screen">
    <!-- ESPACIO para el header fijo (NO otro header aquí) -->
    <div class="flex-1 pt-16 overflow-auto"
         [ngClass]="{
           'md:ml-16': !sidebarOpen && !isMobileView,
           'md:ml-64': sidebarOpen && !isMobileView
         }">
      
      <main class="min-h-full p-2 md:p-2 bg-white">
        <!-- Breadcrumbs -->
        <div class="px-6 bg-white">
          <app-breadcrumbs></app-breadcrumbs>
        </div>
        
        <!-- Contenido dinámico -->
        <div class="p-2 md:p-2">
          <router-outlet></router-outlet>
        </div>
      </main>
    </div>
  </div>
</div>