<div 
  [class]="'bg-white rounded-xl border border-gray-200 p-6 shadow-sm ' + customClass"
  [class.cursor-pointer]="clickable"
  [class.hover\\:shadow-md]="clickable"
  [class.transition-all]="clickable"
  [class.duration-200]="clickable"
  (click)="handleClick()"
>
  @if (config.loading) {
    <div class="animate-pulse">
      <div class="flex items-center justify-between mb-4">
        <div class="space-y-2 flex-1">
          <div class="h-4 bg-gray-200 rounded w-1/2"></div>
          <div class="h-8 bg-gray-300 rounded w-3/4"></div>
        </div>
        <div class="w-12 h-12 rounded-full bg-gray-200"></div>
      </div>
      <div class="h-4 bg-gray-200 rounded w-1/3"></div>
    </div>
  } @else {
    <div class="flex items-center justify-between mb-4">
      <div>
        <p class="text-sm text-gray-500">{{ config.title }}</p>
        <h3 class="text-2xl font-bold text-gray-800 mt-1">{{ config.value }}</h3>
      </div>
      @if (config.icon) {
        <div [class]="'w-12 h-12 rounded-full flex items-center justify-center ' + config.iconBgColor">
          <i [class]="config.icon + ' text-xl ' + config.iconTextColor"></i>
        </div>
      }
    </div>

    @if (config.showTrend && config.trend !== undefined) {
      <div class="text-sm">
        <span [class]="'font-medium ' + trendColor">
          <i [class]="trendIcon + ' mr-1'"></i>
          {{ config.trend }}%
        </span>
        @if (config.trendLabel) {
          <span class="text-gray-500 ml-2">{{ config.trendLabel }}</span>
        }
      </div>
    }

    @if (config.subtitle && (!config.showTrend || config.trend === undefined)) {
      <p class="text-sm text-gray-500 mt-4">{{ config.subtitle }}</p>
    }
  }
</div>